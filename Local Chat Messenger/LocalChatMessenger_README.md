# Local Chat Messenger

Local Chat Messengerは、ローカルネットワーク上でメッセージを送受信できるシンプルなチャットアプリケーションです。ユーザーが送信したメッセージ(今日の意気込み)に対して、サーバーがランダムなプロフィール情報（名前、住所、メールアドレス、会社名）を追加して返信します。

## 特徴

- クライアント・サーバーモデルによる双方向通信
- マルチスレッドによる複数クライアントの同時接続対応
- 日本語対応（UTF-8エンコーディング）
- フェイクデータによる自動レスポンス生成

## 必要要件

- Python 3.7以上
- Faker

## インストール方法

1. リポジトリをクローンまたはダウンロード
2. 必要なパッケージをインストール
```bash
pip install faker
```

## 使用方法

### サーバーの起動

```bash
python server.py
```

デフォルトでは、localhost（127.0.0.1）のポート5001で起動します。

### クライアントの接続

```bash
python client.py
```

クライアントを起動すると、自動的にサーバーへの接続を試みます。

### メッセージの送受信

1. クライアントでメッセージを入力
2. サーバーからランダムなプロフィール情報と共に応答が返信
3. 終了する場合は'quit'と入力

## カスタマイズ

サーバーのホストアドレスやポート番号は以下のように変更できます：

```python
server = Server(host='192.168.1.100', port=5000)
client = Client(host='192.168.1.100', port=5000)
```

## エラーハンドリング

- ポートが既に使用されている場合
- サーバーが起動していない場合
- 通信中の予期せぬエラー

などの一般的なエラーに対応しています。

## 制限事項

- ローカルネットワーク内での使用を想定
- テキストメッセージのみの送受信に対応
- 永続的なメッセージの保存機能なし

## このコードで工夫した点

### 1. 堅牢なエラーハンドリング
- 各層でのエラー処理（サーバー起動時、通信時、クライアント接続時）
- リソースの確実な解放（finallyブロックでのソケットクローズ）

### 2. 型ヒントの活用
- 全てのメソッドに型ヒントを付与
- Optional, Dict, Tupleなどの型を明示的に指定
- コードの可読性と保守性の向上

### 3. マルチスレッド対応
- 各クライアントを別スレッドで処理
- daemon=Trueの設定によるリソースの自動解放
- 複数クライアントの同時接続に対応

### 4. 詳細なドキュメント
- クラスとメソッドの docstring による説明
- 引数、戻り値、例外の明確な記載
- エンコーディングや通信バッファサイズの定数化

### 5. ユーザビリティの向上
- 空入力のチェック機能
- 'quit'コマンドによる正常終了